<div class="dashboard-container">
  <header>
    <h1>Dashboard</h1>
    <button (click)="logout()" class="logout-btn">Logout</button>
  </header>

  <div *ngIf="loading" class="loading">Loading...</div>

  <div *ngIf="!loading && data" class="content">
    <!-- KPI Cards -->
    <div class="kpi-grid">
      <div class="kpi-card">
        <h3>Total Users</h3>
        <div class="value">{{ data.kpis.totalUsers }}</div>
      </div>
      <div class="kpi-card" *ngIf="isAdmin">
        <h3>Revenue</h3>
        <div class="value">${{ data.kpis.revenue }}</div>
      </div>
      <div class="kpi-card" *ngIf="isAdmin">
        <h3>Pending Tasks</h3>
        <div class="value">{{ data.kpis.tasksPending }}</div>
      </div>
      <div class="kpi-card" *ngIf="isAdmin">
        <h3>Active Sessions</h3>
        <div class="value">{{ data.kpis.activeSessions }}</div>
      </div>
    </div>

    <!-- Charts -->
    <div class="charts-grid" [class.viewer-grid]="!isAdmin">
      <div class="chart-card" *ngIf="isAdmin">
        <h3>Monthly Revenue</h3>
        <canvas baseChart
          [data]="barChartData"
          [options]="barChartOptions"
          [type]="barChartType">
        </canvas>
      </div>
      <div class="chart-card">
        <h3>User Distribution</h3>
        <canvas baseChart
          [data]="pieChartData"
          [options]="pieChartOptions"
          [type]="pieChartType">
        </canvas>
      </div>
      <div class="chart-card" *ngIf="isAdmin">
        <h3>Task Trends</h3>
        <canvas baseChart
          [data]="lineChartData"
          [options]="lineChartOptions"
          [type]="lineChartType">
        </canvas>
      </div>
    </div>
  </div>
</div>
